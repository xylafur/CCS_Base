<module name="CALC3_MMR_ICONT" acronym="" XML_version="1.0" HW_revision="n/a" description="">
  <register id="CALC_PID" acronym="CALC_PID" offset="0x0" width="32" description="CALC3 PID register">
    <bitfield id="PID" width="32" begin="31" end="0" resetval="0x----" description="PID of CALC3" range="" rwaccess="R"/>
  </register>
  <register id="CALC_COUNT" acronym="CALC_COUNT" offset="0x4" width="32" description="CALC3 cycle counter register">
    <bitfield id="CALC_CE" width="1" begin="31" end="31" resetval="0" description="Cycle counter enable [1]: Active [0]: Not active" range="" rwaccess="RW"/>
    <bitfield id="CALC_CRST" width="1" begin="30" end="30" resetval="0" description="Counter reset [1]: Reset counter [0]: No effect" range="" rwaccess="W"/>
    <bitfield id="RESERVED" width="14" begin="29" end="16" resetval="0x0000" description="" range="" rwaccess="R"/>
    <bitfield id="COUNT" width="16" begin="15" end="0" resetval="0x0000" description="Cycle counter 16-bit counter Cycle counter is increasing during CALC_EN = 1 in CALC_CTRL. It reflects the counter value." range="" rwaccess="R"/>
  </register>
  <register id="CALC_CTRL" acronym="CALC_CTRL" offset="0x8" width="32" description="CALC3 control register">
    <bitfield id="RESERVED" width="31" begin="31" end="1" resetval="0x0000 0000" description="" range="" rwaccess="R"/>
    <bitfield id="CALC_EN" width="1" begin="0" end="0" resetval="0" description="CALC3 module status and start bit Write [0]: Ignored Write [1]: Start CALC3 module. Read [0]: Idle Read [1]: Busy" range="" rwaccess="RW"/>
  </register>
  <register id="CALC_TEST" acronym="CALC_TEST" offset="0xC" width="32" description="CALC3 test register It is only for debug purpose.">
    <bitfield id="RESERVED" width="7" begin="31" end="25" resetval="0x00" description="" range="" rwaccess="R"/>
    <bitfield id="CALC_CMD_OPECNT" width="1" begin="24" end="24" resetval="0" description="MB counter register for MBAFF mode For H.264 MBAFF, this status bit is used for CALC3 core and command wrapper." range="" rwaccess="R"/>
    <bitfield id="RESERVED" width="10" begin="23" end="14" resetval="0x000" description="" range="" rwaccess="R"/>
    <bitfield id="CALC_CMD_MNG_DIS" width="1" begin="13" end="13" resetval="0" description="CALC3 command wrapper function of data management (that is, neighboring pixel copying) disable flag. [0]: Command wrapper's data management enable. [1]: Command wrapper's data management disable." range="" rwaccess="RW"/>
    <bitfield id="CALC_CMD_GEN_DIS" width="1" begin="12" end="12" resetval="0" description="CALC3 command wrapper function of CALC3 core specific command generation disable flag. [0]: Command wrapper's its generation function enable. [1]: Command wrapper's its generation function disable." range="" rwaccess="RW"/>
    <bitfield id="RESERVED" width="5" begin="11" end="7" resetval="0x00" description="" range="" rwaccess="R"/>
    <bitfield id="CALC_2ND_MB_DIS" width="1" begin="6" end="6" resetval="0" description="CALC3 2nd Mb disable flag ( it is effective only for MBAFF ) [1]: 2nd Mb operation for MBAFF is disable for CALC3 core and command wrapper [0]: 2nd Mb operation for MBAFF is enable for CALC3 core and command wrapper" range="" rwaccess="RW"/>
    <bitfield id="CALC_TIT_DIS" width="1" begin="5" end="5" resetval="0" description="CALC3 transform function disable flag [1]: Transform function is skipped in CALC3 core. [0]: Transform function is enabled in CALC3 core." range="" rwaccess="RW"/>
    <bitfield id="CALC_QIQ_DIS" width="1" begin="4" end="4" resetval="0" description="CALC3 QIQ function disable flag [1]: QIQ function is skipped in CALC3 core. [0]: QIQ function is enabled in CALC3 core." range="" rwaccess="RW"/>
    <bitfield id="RESERVED" width="3" begin="3" end="1" resetval="0x0" description="" range="" rwaccess="R"/>
    <bitfield id="CALC_CORE_DIS" width="1" begin="0" end="0" resetval="0" description="CALC3 core disable flag. [0]: CALC core enable [1]: CALC core disable" range="" rwaccess="RW"/>
  </register>
  <register id="CALC_MODE" acronym="CALC_MODE" offset="0x10" width="32" description="CALC3 mode select register">
    <bitfield id="CALC_H263_ANNEXI" width="1" begin="31" end="31" resetval="0" description="In H.264[0] : Intra_8x8 Pre-Filter is active. . [1] : Intra_8x8 Pre_filter is disabled. . H.263 AnnexI mode set flag . It is effective for H.263 decode only. . [0] : H263 Annex I configuration disable for CALC3 core . [1] : H263 Annex I configuration enable for CALC3 core ." range="" rwaccess="RW"/>
    <bitfield id="CALC_MPEG4_QUANT_TYPE" width="1" begin="30" end="30" resetval="0" description="MPEG-4 QuantType set flagIt is effective for MPEG-4 only. . [0]: QuantType = 0 . [1]: QuantType = 1 . It is set for the quantization manner, H.263 like (quantType = 0) or MPEG like(quantType = 1). . Based on the current syntax, user must set it. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_VC1_NONUNIQUANT" width="1" begin="29" end="29" resetval="0" description="VC-1 NonUniformQuantize set flagIt is effective for VC-1 only. . [0]: Uniform Quantize . [1]: NonUniform Quantize . It is set for the quantization manner, uniform or nonuniform for VC-1. . Based on the current syntax, user must set it. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_VC1_DC_DEF_NONZERO" width="1" begin="28" end="28" resetval="0" description="VC-1 DcDefaultNonZero set flagIt is effective for VC-1 only. . [0]: DcDefault = 0 . [1]: DcDefault != 0 . It is set for the DC default value for the DC prediction for VC-1. . If (Simple or Main Profile &amp;amp;&amp;amp; Ipicture &amp;amp;&amp;amp; NoOverlap) . set to 1 . else . set to 0 ." range="" rwaccess="RW"/>
    <bitfield id="CALC_CODEC_TYPE" width="4" begin="27" end="24" resetval="0x0" description="Codec type set register[0]: JPEG . [1]: MPEG-1 . [2]: MPEG-2 . [3]: H.263 . [4]: MPEG-4 . [5]: VC-1 . [6]: H.264 . [7]: AVS1.0 . [8]: Real Video . [9]: On2Vp6 . [10]: On2Vp7 . [11-15]: Reserved . For MPEG-4 and shortVideoHeader = 1, set H.263 mode. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_CBPCNT0_INTER_EN" width="1" begin="23" end="23" resetval="0" description="CBPControl #0 enable flag for Inter Block[0]: Disable. . [1]: Enable. . It is effective for encode only. . For an 8 &#215; 8 block (without DcTransform) and its block of inter, if all the nonzero coeffs among quantized 64 coeffs are less than one in abs domain and the number of the ones coeffs &amp;lt;= threshold_0, this corresponds CBP sets to zero, where threshold_0 = CALC_CBPCNT0_INTER_THR + 1. . Its threshold of threshold_0 can be set in the CALC_CBPCNT0_INTER_THR register. . Note that the abs one coefficients does not turn to zero in the residual data, the CBP is only controlled to zero. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_CBPCNT0_LUMA_DCTRANS_EN" width="1" begin="22" end="22" resetval="0" description="CBPControl #0 enable flag for Luma DC Trans mode[0]: Disable. . [1]: Enable. . It is effective for encode and DC transform used in Luma 16 &#215; 16 block. . When DcTransform is effective for Luma and this flag = 1, if all the non-zero coeffs among quantized 60 AC coeffs (w/o 4DC coeffs) in an 8 &#215; 8 Luma block are one in abs domain and the number of ones coeffs is less than threshold_1, this corresponded CBP sets to zero, where threshold_1 = CALC_CBPCNT0_LUMA_DCTRANS_THR + 1. . Its threshold of threshold_1 can be set in the CALC_CBPCNT0_LUMA_DCTRANS_THR register. . Note that the abs one coefficients are not turns to zero in the residual data, the CBP is only controlled to zero. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_CBPCNT0_CHRO_DCTRANS_EN" width="1" begin="21" end="21" resetval="0" description="CBPControl #0 enable flag for Chroma DC Trans mode[0]: Disable. . [1]: Enable. . It is effective for enc and DC transform used in Cb and Cr blocks. . When DcTransform is effective for Cb/Cr and this flag = 1, if all the non-zero coeffs among quantized 60 AC coeffs (w/o 4DC coeffs) in the 8x8 block are one in abs domain and the number of ones coeffs is less than threshold_2, this corresponded CBP sets to zero, where threshold_2 = CALC_CBPCNT0_CHRO_DCTRANS_THR + 1. . Its threshold of threshold_2 is set in the CALC_CBPCNT0_CHRO_DCTRANS_THR register. . Note that the abs one coefficients are not turns to zero in the residual data, the CBP is only controlled to zero. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_CBPCNT0_INTER_THR" width="1" begin="20" end="20" resetval="0" description="# of abs ones coeffs threshold for CALC_CBPCNT0_INTER_ENIt is effective for CALC_CBPCNT0_INTER_EN = 1 . [0]: threshold_0 = 1 . [1]: threshold_0 = 2 ." range="" rwaccess="RW"/>
    <bitfield id="CALC_CBPCNT0_LUMA_DCTRANS_THR" width="1" begin="19" end="19" resetval="0" description="# of abs ones coeffs threshold for CALC_CBPCNT0_LUMA_DCTRANS_ENIt is effective for CALC_CBPCNT0_LUMA_DCTRANS_EN = 1 . [0]: threshold_1 = 1 . [1]: threshold_1 = 2 ." range="" rwaccess="RW"/>
    <bitfield id="CALC_CBPCNT0_CHRO_DCTRANS_THR" width="1" begin="18" end="18" resetval="0" description="# of abs ones coeffs threshold for CALC_CBPCNT0_CHRO_DCTRANS_ENIt is effective for CALC_CBPCNT0_CHRO_DCTRANS_EN = 1 . [0]: threshold_2 = 1 . [1]: threshold_2 = 2 ." range="" rwaccess="RW"/>
    <bitfield id="CALC_CBPCNT1_EN" width="1" begin="17" end="17" resetval="0" description="CBP Control #1 enable flag[0]: OFF . [1]: ON . It is effective for encode. . If all the inverse transformed coefficients are zeros in the transformed size, the corresponded CBP controls to zero. . Note that the abs one coefficients are not turns to zero in the residual data, the CBP is only controlled to zero. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_ENC" width="1" begin="16" end="16" resetval="0" description="Enc or Dec mode flag[0]: Dec . [1]: Enc . Note that a part of codecs is supported only for dec. . RealVideo, VP6/7, H.263 AnnexI mode are supported only for dec. . Enc mode is reserved for them. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_MPEG2_QSCLTYPE" width="1" begin="15" end="15" resetval="0" description="q_scale_type of MPEG-2 set register for command wrapper.It is effective for MPEG-2. . [0]: q_scale_type = 0 . [1]: q_scale_type = 1 ." range="" rwaccess="RW"/>
    <bitfield id="CALC_MPEG2_INTRADCPREC" width="2" begin="14" end="13" resetval="0x0" description="intra_dc_precision of MPEG-2 set register for command wrapper.It is effective for MPEG-1 and MPEG-2. . [0]: intra_dc_precision = 0 . [1]: intra_dc_precision = 1 . [2]: intra_dc_precision = 2 . [3]: intra_dc_precision = 3 . For MPEG-1, it shall be set to zero. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_ACPRED_DIS" width="1" begin="12" end="12" resetval="0" description="AC prediction disable flag for command wrapper.It is effective for MPEG-4 and VC-1 enc. . [0]: AC prediction estimation enable for enc . [1]: AC prediction estimation disable for enc . Note that H.263 AnnexI enc not support. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_H264_CONST_INTRA" width="1" begin="11" end="11" resetval="0" description="Constraint intra set of H.264 flag for command wrapper.It is effective for H.264. . [0]: Non constraint intra . [1]: constraint intra ." range="" rwaccess="RW"/>
    <bitfield id="CALC_PICTCODINGTYPE" width="2" begin="10" end="9" resetval="0x0" description="Picture coding type set register for command wrapper[0]: I Picture . [1]: P Picture . [2]: B Picture . [3]: Reserved . It is effective for VC-1 and RealVideo. . For VC-1, it defines DcPrediction manner. . For RV8, it defines quantization parameter for the inverse quantization of Dc Transformed coefficient. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_RECON_16BIT_EN" width="1" begin="8" end="8" resetval="0" description="Reconstruct format flag[0]: 8-bit mode . [1]: 16-bit mode . For VC-1 application, it must always be set to 1. . Even for an inter block, CALC3 outputs the reconst data in 16-bit format for its flag of 1. . We assume that the 8-bit clipping would be done in ILF3. . For other codecs, it shall be set to zero. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_VC1_PROFILE" width="2" begin="7" end="6" resetval="0x0" description="VC-1 Profile register for command wrapper[0]: Simple . [1]: Main . [2]: Advanced . [3]: Reserved . It is effective for VC-1, since DcPrediction manner is defined by it. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_SORENSON_EN" width="1" begin="5" end="5" resetval="0" description="Sorenson Spark setting register.When CALC_CODEC_TYPE = 3 (H.263) and this flag = 1, then, it becomes Sorenson Spark mode. . For this flag = 1, CALC_H263_ANNEXI must be set to zero. ." range="" rwaccess="RW"/>
    <bitfield id="CALC_JPG_FORMAT" width="3" begin="4" end="2" resetval="0x0" description="JPEG color mode setting register.It is effective for JPEG. . [0]: 4:4:4 (1 MCU mode) . [1]: 4:4:4 (2 MCU mode) . [2]: 4:2:2 (H0 = 2 V0 = 1) . [3]: 4:2:2 (H0 = 1 V0 = 2) . [4]: 4:2:0 . [5]: Reserved . [6]: 4:0:0 . [7]: Reserved ." range="" rwaccess="RW"/>
    <bitfield id="CALC_PICT_STRUCT" width="2" begin="1" end="0" resetval="0x0" description="Picture Structure setting register[0]: Frame structure . [1]: Field structure . [2]: MBAFF (MbPair sequence) . [3]: Reserved . Field structure mode shall be set for interlace field picture. . MBAFF mode shall be set for H.264 MBAFF picture. . Frame structure mode shall be set for others. . Note that CALC3 handles top and bottom MBs simultaneously with one start pulse for AFF mode. . With one start pulse, CALC3 handles only one MB except for MBAFF mode. ." range="" rwaccess="RW"/>
  </register>
  <register id="CALC_FWDQ_RND_INTRA" acronym="CALC_FWDQ_RND_INTRA" offset="0x14" width="32" description="CALC3 forward quantization's rounding coefficients and shift offsets for intra MB">
    <bitfield id="CALC_Q_RND_COEF_INTRA" width="25" begin="31" end="7" resetval="0x0000000" description="Forward quantization's rounding coefficients for intra MB. Hence, for intra MB and fwdQ, Round Coefficient AC[0] = this bit field by command wrapper (Signed 25-bit)." range="" rwaccess="RW"/>
    <bitfield id="RESERVED" width="3" begin="6" end="4" resetval="0x0" description="" range="" rwaccess="R"/>
    <bitfield id="CALC_Q_SHIFT_ADJ_INTRA" width="4" begin="3" end="0" resetval="0x0" description="It can be applicable for weight matrix used codecs' encoding. If user would like to apply a non-default intra weight matrix and its element is less than that of default value, then the user shall set it. Otherwise, zero shall be set. Forward Q shift adjustment for inter macroblock. (Signed 4bits, valid for MPEG-1/-2, MPEG-4 quantType=1, H.264, = q_shift_adj[0] for command wrapper)." range="" rwaccess="RW"/>
  </register>
  <register id="CALC_FWDQ_RND_INTER" acronym="CALC_FWDQ_RND_INTER" offset="0x18" width="32" description="CALC3 forward quantization's rounding coefficients and shift offsets for inter MB">
    <bitfield id="CALC_Q_RND_COEF_INTER" width="25" begin="31" end="7" resetval="0x0000000" description="Forward quantization's rounding coefficients for inter MB. Hence, for inter MB and fwdQ, Round Coefficient AC[0] = this bit field by command wrapper (Table 22/23) (Signed 25-bit)." range="" rwaccess="RW"/>
    <bitfield id="RESERVED" width="3" begin="6" end="4" resetval="0x0" description="" range="" rwaccess="R"/>
    <bitfield id="CALC_Q_SHIFT_ADJ_INTER" width="4" begin="3" end="0" resetval="0x0" description="It can be applicable for weight matrix used codecs' encoding. If user would like to apply a non-default inter weight matrix and its element is less than that of default value, then the user shall set it. Otherwise, zero shall be set. Forward Q shift adjustment for inter macroblock. (Signed 4bits, valid for MPEG-1/-2, MPEG-4 quantType=1, H.264, = q_shift_adj[1] for command wrapper)." range="" rwaccess="RW"/>
  </register>
  <register id="CALC_FWDQ_RND_INTRA_DC" acronym="CALC_FWDQ_RND_INTRA_DC" offset="0x20" width="32" description="Round offset value setting for fwd Q, intra and DC coefficient.">
    <bitfield id="CALC_Q_RND_COEF_INTRA_DC" width="25" begin="31" end="7" resetval="0x0000000" description="Forward quantization's rounding coefficients for intra MB and its DC coefficients. Hence, for intra MB, fwdQ and DC coefficients, FwdQ uses it as its rounding coefficient. Fwd Round Coefficient DC[0] = this bit field by command wrapper(Table. 21/22)(Signed 25-bit)." range="" rwaccess="RW"/>
    <bitfield id="RESERVED" width="7" begin="6" end="0" resetval="0x00" description="" range="" rwaccess="R"/>
  </register>
  <register id="CALC_FWDQ_RND_INTER_DC" acronym="CALC_FWDQ_RND_INTER_DC" offset="0x24" width="32" description="Round offset value setting for fwd Q, inter and DC coefficient.">
    <bitfield id="CALC_Q_RND_COEF_INTER_DC" width="25" begin="31" end="7" resetval="0x0000000" description="Forward quantization's rounding coefficients for inter MB and its DC coefficients. Hence, for inter MB, fwdQ and DC coefficients, FwdQ uses it as its rounding coefficient. Round Coefficient DC[0] = this bit field (Table. 21/22) (Signed 25-bit)." range="" rwaccess="RW"/>
    <bitfield id="RESERVED" width="7" begin="6" end="0" resetval="0x00" description="" range="" rwaccess="R"/>
  </register>
</module>
